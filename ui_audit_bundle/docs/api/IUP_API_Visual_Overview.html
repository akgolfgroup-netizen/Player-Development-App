<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AK Golf Academy - IUP API System Overview</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .page {
            background: white;
            max-width: 1200px;
            margin: 20px auto;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 3px solid #2c5282;
            margin-bottom: 40px;
        }

        .header h1 {
            color: #2c5282;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        .header .date {
            color: #999;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .section {
            margin: 40px 0;
            page-break-inside: avoid;
        }

        .section h2 {
            color: #2c5282;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        .architecture-diagram {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
            background: #f7fafc;
            border-radius: 8px;
        }

        .layer {
            flex: 1;
            text-align: center;
            padding: 20px;
            margin: 0 10px;
            background: white;
            border: 2px solid #2c5282;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .layer h3 {
            color: #2c5282;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .layer ul {
            list-style: none;
            text-align: left;
        }

        .layer li {
            padding: 8px;
            margin: 5px 0;
            background: #edf2f7;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .arrow {
            font-size: 2em;
            color: #2c5282;
            margin: 0 10px;
        }

        .routes-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .route-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-left: 4px solid #2c5282;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .route-card h3 {
            color: #2c5282;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .route-card .endpoint-count {
            background: #2c5282;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            display: inline-block;
            margin-bottom: 10px;
        }

        .route-card p {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .route-card .features {
            list-style: none;
            margin-top: 10px;
        }

        .route-card .features li {
            padding: 4px 0;
            font-size: 0.85em;
            color: #555;
        }

        .route-card .features li:before {
            content: "‚úì ";
            color: #48bb78;
            font-weight: bold;
        }

        .database-schema {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .table-card {
            background: #f7fafc;
            padding: 15px;
            border-left: 3px solid #4299e1;
            border-radius: 4px;
        }

        .table-card h4 {
            color: #2d3748;
            margin-bottom: 8px;
            font-size: 1em;
        }

        .table-card .field {
            font-size: 0.8em;
            color: #666;
            padding: 3px 0;
        }

        .stats-box {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .stat {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .stat .number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat .label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .tech-stack {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 20px 0;
            padding: 20px;
            background: #f7fafc;
            border-radius: 8px;
        }

        .tech-item {
            text-align: center;
            padding: 15px;
            margin: 10px;
            min-width: 150px;
        }

        .tech-item .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .tech-item .name {
            font-weight: bold;
            color: #2c5282;
            margin-bottom: 5px;
        }

        .tech-item .version {
            font-size: 0.85em;
            color: #666;
        }

        .endpoint-list {
            background: #f7fafc;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .endpoint-list h4 {
            color: #2c5282;
            margin-bottom: 15px;
        }

        .endpoint {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .method {
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 15px;
            min-width: 60px;
            text-align: center;
        }

        .method.get { background: #48bb78; color: white; }
        .method.post { background: #4299e1; color: white; }
        .method.put { background: #ed8936; color: white; }
        .method.delete { background: #f56565; color: white; }

        .path {
            font-family: 'Courier New', monospace;
            color: #2d3748;
            flex: 1;
        }

        .flow-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
            background: #f7fafc;
            border-radius: 8px;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 10px 0;
            width: 100%;
            max-width: 600px;
        }

        .flow-box {
            background: white;
            border: 2px solid #2c5282;
            padding: 15px 25px;
            border-radius: 8px;
            flex: 1;
            text-align: center;
            font-weight: 500;
        }

        .flow-arrow {
            font-size: 1.5em;
            margin: 10px 0;
            color: #2c5282;
        }

        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #e2e8f0;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }

        @media print {
            body {
                background: white;
            }
            .page {
                box-shadow: none;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="page">
        <div class="header">
            <h1>üèåÔ∏è AK Golf Academy</h1>
            <div class="subtitle">Individual Development Plan (IUP) API System</div>
            <div class="date">Implementation Complete - December 14, 2025</div>
        </div>

        <!-- Statistics -->
        <div class="section">
            <h2>üìä System Overview</h2>
            <div class="stats-box">
                <div class="stat">
                    <div class="number">54</div>
                    <div class="label">API Endpoints</div>
                </div>
                <div class="stat">
                    <div class="number">6</div>
                    <div class="label">Core Routes</div>
                </div>
                <div class="stat">
                    <div class="number">20</div>
                    <div class="label">Database Tables</div>
                </div>
                <div class="stat">
                    <div class="number">2,500+</div>
                    <div class="label">Lines of Code</div>
                </div>
            </div>
        </div>

        <!-- Architecture -->
        <div class="section">
            <h2>üèóÔ∏è System Architecture</h2>
            <div class="architecture-diagram">
                <div class="layer">
                    <h3>Frontend</h3>
                    <ul>
                        <li>React Web App</li>
                        <li>React Native App</li>
                        <li>18 Screen Components</li>
                    </ul>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="layer">
                    <h3>API Layer</h3>
                    <ul>
                        <li>Express.js Server</li>
                        <li>RESTful API (v1)</li>
                        <li>Port: 8000</li>
                        <li>Validation Middleware</li>
                        <li>Error Handling</li>
                    </ul>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="layer">
                    <h3>Database</h3>
                    <ul>
                        <li>PostgreSQL 14+</li>
                        <li>20 Tables</li>
                        <li>JSONB Support</li>
                        <li>Foreign Keys</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Technology Stack -->
        <div class="section">
            <h2>‚öôÔ∏è Technology Stack</h2>
            <div class="tech-stack">
                <div class="tech-item">
                    <div class="icon">üü¢</div>
                    <div class="name">Node.js</div>
                    <div class="version">v18+</div>
                </div>
                <div class="tech-item">
                    <div class="icon">‚ö°</div>
                    <div class="name">Express.js</div>
                    <div class="version">Fast, minimalist</div>
                </div>
                <div class="tech-item">
                    <div class="icon">üêò</div>
                    <div class="name">PostgreSQL</div>
                    <div class="version">v14+</div>
                </div>
                <div class="tech-item">
                    <div class="icon">üîí</div>
                    <div class="name">Helmet.js</div>
                    <div class="version">Security</div>
                </div>
                <div class="tech-item">
                    <div class="icon">üåê</div>
                    <div class="name">CORS</div>
                    <div class="version">Cross-origin</div>
                </div>
            </div>
        </div>

        <!-- API Routes -->
        <div class="section">
            <h2>üõ£Ô∏è API Routes (6 Implemented)</h2>
            <div class="routes-grid">
                <div class="route-card">
                    <h3>/api/v1/breaking-points</h3>
                    <span class="endpoint-count">6 endpoints</span>
                    <p>Performance barrier tracking and resolution system</p>
                    <ul class="features">
                        <li>Severity levels (critical ‚Üí low)</li>
                        <li>Progress tracking (0-100%)</li>
                        <li>Status workflow management</li>
                        <li>Baseline & target measurements</li>
                    </ul>
                </div>

                <div class="route-card">
                    <h3>/api/v1/progress-log</h3>
                    <span class="endpoint-count">7 endpoints</span>
                    <p>Daily training session logging and analytics</p>
                    <ul class="features">
                        <li>Session completion tracking</li>
                        <li>Quality & focus ratings (1-5)</li>
                        <li>Completion statistics</li>
                        <li>Reflective journaling</li>
                    </ul>
                </div>

                <div class="route-card">
                    <h3>/api/v1/benchmarks</h3>
                    <span class="endpoint-count">8 endpoints</span>
                    <p>Every-3-week testing schedule management</p>
                    <ul class="features">
                        <li>14 sessions per year (weeks 3,6,9...42)</li>
                        <li>Auto-generate full year</li>
                        <li>Gap analysis & scheduling</li>
                        <li>Test results tracking</li>
                    </ul>
                </div>

                <div class="route-card">
                    <h3>/api/v1/tests</h3>
                    <span class="endpoint-count">11 endpoints</span>
                    <p>Test definitions and results management</p>
                    <ul class="features">
                        <li>Team Norway test protocols</li>
                        <li>PEI scoring system</li>
                        <li>Progress over time</li>
                        <li>Latest results tracking</li>
                    </ul>
                </div>

                <div class="route-card">
                    <h3>/api/v1/tournaments</h3>
                    <span class="endpoint-count">13 endpoints</span>
                    <p>Tournament management with RUT system</p>
                    <ul class="features">
                        <li>RUT categorization (Result/Utvikling/Trening)</li>
                        <li>Position & score tracking</li>
                        <li>Player statistics (wins, top-3, averages)</li>
                        <li>Tournament history</li>
                    </ul>
                </div>

                <div class="route-card">
                    <h3>/api/v1/periodization</h3>
                    <span class="endpoint-count">9 endpoints</span>
                    <p>52-week training plan management</p>
                    <ul class="features">
                        <li>Periods: G (Grundtrening), C (Comp Prep), V (Competition)</li>
                        <li>Learning phases (L1-L5)</li>
                        <li>Bulk year creation</li>
                        <li>Current week lookup</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Example Endpoints -->
        <div class="section">
            <h2>üìç Example Endpoints</h2>
            <div class="endpoint-list">
                <h4>Breaking Points</h4>
                <div class="endpoint">
                    <span class="method get">GET</span>
                    <span class="path">/api/v1/breaking-points?player_id=uuid&status=active</span>
                </div>
                <div class="endpoint">
                    <span class="method post">POST</span>
                    <span class="path">/api/v1/breaking-points</span>
                </div>
                <div class="endpoint">
                    <span class="method put">PUT</span>
                    <span class="path">/api/v1/breaking-points/:id</span>
                </div>
            </div>

            <div class="endpoint-list">
                <h4>Progress Log</h4>
                <div class="endpoint">
                    <span class="method get">GET</span>
                    <span class="path">/api/v1/progress-log/stats/:player_id</span>
                </div>
                <div class="endpoint">
                    <span class="method post">POST</span>
                    <span class="path">/api/v1/progress-log</span>
                </div>
            </div>

            <div class="endpoint-list">
                <h4>Benchmarks</h4>
                <div class="endpoint">
                    <span class="method get">GET</span>
                    <span class="path">/api/v1/benchmarks/player/:player_id/schedule?year=2026</span>
                </div>
                <div class="endpoint">
                    <span class="method post">POST</span>
                    <span class="path">/api/v1/benchmarks/player/:player_id/generate-year</span>
                </div>
            </div>

            <div class="endpoint-list">
                <h4>Tournaments</h4>
                <div class="endpoint">
                    <span class="method get">GET</span>
                    <span class="path">/api/v1/tournaments/results/player/:player_id/stats</span>
                </div>
                <div class="endpoint">
                    <span class="method post">POST</span>
                    <span class="path">/api/v1/tournaments/results</span>
                </div>
            </div>
        </div>

        <!-- Data Flow -->
        <div class="section">
            <h2>üîÑ Request Flow</h2>
            <div class="flow-diagram">
                <div class="flow-step">
                    <div class="flow-box">Client Request</div>
                </div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">
                    <div class="flow-box">CORS & Helmet Security</div>
                </div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">
                    <div class="flow-box">Input Sanitization</div>
                </div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">
                    <div class="flow-box">Route Handler</div>
                </div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">
                    <div class="flow-box">Validation Checks</div>
                </div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">
                    <div class="flow-box">Database Query (PostgreSQL)</div>
                </div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">
                    <div class="flow-box">Error Handling</div>
                </div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-step">
                    <div class="flow-box">JSON Response</div>
                </div>
            </div>
        </div>

        <!-- Database Schema -->
        <div class="section">
            <h2>üóÑÔ∏è Database Schema (20 Tables)</h2>
            <div class="database-schema">
                <div class="table-card">
                    <h4>players</h4>
                    <div class="field">id, name, email, category</div>
                    <div class="field">coach_id, avg_score, handicap</div>
                </div>
                <div class="table-card">
                    <h4>coaches</h4>
                    <div class="field">id, name, email, phone</div>
                    <div class="field">specialization, certification</div>
                </div>
                <div class="table-card">
                    <h4>breaking_points</h4>
                    <div class="field">player_id, name, severity</div>
                    <div class="field">status, progress_percent</div>
                </div>
                <div class="table-card">
                    <h4>progress_log</h4>
                    <div class="field">player_id, date, completed</div>
                    <div class="field">quality, focus, energy_level</div>
                </div>
                <div class="table-card">
                    <h4>benchmark_sessions</h4>
                    <div class="field">player_id, week_number, year</div>
                    <div class="field">date, completed, test_results</div>
                </div>
                <div class="table-card">
                    <h4>tests</h4>
                    <div class="field">name, category, type</div>
                    <div class="field">metrics, scoring_system</div>
                </div>
                <div class="table-card">
                    <h4>test_results</h4>
                    <div class="field">test_id, player_id, date</div>
                    <div class="field">results (JSONB), pei_score</div>
                </div>
                <div class="table-card">
                    <h4>tournaments</h4>
                    <div class="field">name, tournament_type, date</div>
                    <div class="field">location, format</div>
                </div>
                <div class="table-card">
                    <h4>tournament_results</h4>
                    <div class="field">tournament_id, player_id</div>
                    <div class="field">position, total_score, rounds</div>
                </div>
                <div class="table-card">
                    <h4>periodization</h4>
                    <div class="field">player_id, week_number, year</div>
                    <div class="field">period (G/C/V), planned_hours</div>
                </div>
                <div class="table-card">
                    <h4>exercises</h4>
                    <div class="field">name, type, category</div>
                    <div class="field">difficulty, effectiveness</div>
                </div>
                <div class="table-card">
                    <h4>session_templates</h4>
                    <div class="field">name, duration, category</div>
                    <div class="field">learning_phase, exercises</div>
                </div>
            </div>
        </div>

        <!-- Security & Features -->
        <div class="section">
            <h2>üîí Security & Features</h2>
            <div class="routes-grid">
                <div class="route-card">
                    <h3>Security Middleware</h3>
                    <ul class="features">
                        <li>Helmet.js HTTP headers</li>
                        <li>CORS configuration</li>
                        <li>Input sanitization</li>
                        <li>SQL injection prevention</li>
                        <li>UUID validation</li>
                    </ul>
                </div>

                <div class="route-card">
                    <h3>Validation</h3>
                    <ul class="features">
                        <li>Required field checking</li>
                        <li>Data type validation</li>
                        <li>Range validation (1-5, 1-52)</li>
                        <li>Date format validation (YYYY-MM-DD)</li>
                        <li>Email format validation</li>
                    </ul>
                </div>

                <div class="route-card">
                    <h3>Error Handling</h3>
                    <ul class="features">
                        <li>PostgreSQL error mapping</li>
                        <li>Consistent error responses</li>
                        <li>404 Not Found handler</li>
                        <li>500 Server error handling</li>
                        <li>Development stack traces</li>
                    </ul>
                </div>

                <div class="route-card">
                    <h3>Performance</h3>
                    <ul class="features">
                        <li>Connection pooling</li>
                        <li>Parameterized queries</li>
                        <li>Response compression</li>
                        <li>Indexed database columns</li>
                        <li>Efficient JOINs</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Quick Start -->
        <div class="section">
            <h2>üöÄ Quick Start</h2>
            <div class="endpoint-list">
                <h4>1. Install Dependencies</h4>
                <div class="endpoint">
                    <span class="method post">CMD</span>
                    <span class="path">cd backend && npm install</span>
                </div>

                <h4>2. Set Up Database</h4>
                <div class="endpoint">
                    <span class="method post">CMD</span>
                    <span class="path">createdb ak_golf_iup</span>
                </div>
                <div class="endpoint">
                    <span class="method post">CMD</span>
                    <span class="path">psql -d ak_golf_iup -f database_setup.sql</span>
                </div>
                <div class="endpoint">
                    <span class="method post">CMD</span>
                    <span class="path">psql -d ak_golf_iup -f database_iup_extension.sql</span>
                </div>

                <h4>3. Seed Sample Data</h4>
                <div class="endpoint">
                    <span class="method post">CMD</span>
                    <span class="path">node src/utils/seedData.js</span>
                </div>

                <h4>4. Start Server</h4>
                <div class="endpoint">
                    <span class="method get">CMD</span>
                    <span class="path">PORT=8000 npm run dev</span>
                </div>

                <h4>5. Test API</h4>
                <div class="endpoint">
                    <span class="method get">GET</span>
                    <span class="path">http://localhost:8000/health</span>
                </div>
                <div class="endpoint">
                    <span class="method get">GET</span>
                    <span class="path">http://localhost:8000/api/v1/players</span>
                </div>
            </div>
        </div>

        <div class="footer">
            <p><strong>AK Golf Academy √ó Team Norway Golf</strong></p>
            <p>Individual Development Plan (IUP) System</p>
            <p>Backend Infrastructure Complete - December 14, 2025</p>
            <p style="margin-top: 10px; font-size: 0.85em;">
                Server: http://localhost:8000 | API: /api/v1 | Database: PostgreSQL 14+
            </p>
        </div>
    </div>

    <script>
        // Auto-print dialog on load (optional)
        // window.onload = () => window.print();
    </script>
</body>
</html>